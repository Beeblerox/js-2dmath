<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" ></script>
<title>Untitled Document</title>

<script src="../lib/math.js" type="text/javascript" ></script>
<script src="../lib/vec2.js" type="text/javascript" ></script>
<script src="../lib/line2.js" type="text/javascript" ></script>
<script src="../lib/segment2.js" type="text/javascript" ></script>
<script src="../lib/circle.js" type="text/javascript" ></script>
<script src="../lib/rectangle.js" type="text/javascript" ></script>
<script src="../lib/polygon.js" type="text/javascript" ></script>
<script src="../lib/matrix2d.js" type="text/javascript" ></script>
<script src="../lib/beizer.js" type="text/javascript" ></script>
<script src="../lib/distance.js" type="text/javascript" ></script>
<script src="../lib/intersection.js" type="text/javascript" ></script>
<script src="../lib/boundingbox2.js" type="text/javascript" ></script>


</head>
<body>
<canvas id="canvas" width="640" height="480" style="border: 1px solid red;"></canvas>
</body>
</html>

<script>
var ctx = document.getElementById("canvas").getContext("2d");

function draw_circle(circle, style) {
    ctx.strokeStyle = style || "green";
    ctx.beginPath();
    ctx.arc(circle[0][0], circle[0][1], circle[1], 0, 2 * Math.PI, false);
    ctx.stroke();
}

function draw_vec2(vec2, style, comment) {
    ctx.strokeStyle = style || "green";
    console.log("draw_vec2", vec2, style);

    ctx.beginPath();
    ctx.moveTo(vec2[0] + 2, vec2[1] + 2);
    ctx.lineTo(vec2[0] - 2, vec2[1] - 2);
    ctx.stroke();

    ctx.beginPath();
    ctx.moveTo(vec2[0] - 2, vec2[1] + 2);
    ctx.lineTo(vec2[0] + 2, vec2[1] - 2);
    ctx.stroke();

    ctx.font = "12pt Consolas";
    ctx.fillText(comment, vec2[0] + 7, vec2[1] + 7);
}

function draw_segment2(segment2, style) {
    ctx.strokeStyle = style || "green";

    ctx.beginPath();
    ctx.moveTo(segment2[0], segment2[1]);
    ctx.lineTo(segment2[2], segment2[3]);
    ctx.stroke();

    ctx.beginPath();
    ctx.arc(segment2[0], segment2[1], 1, 0, 2 * Math.PI, false);
    ctx.stroke();

    ctx.beginPath();
    ctx.arc(segment2[2], segment2[3], 1, 0, 2 * Math.PI, false);
    ctx.stroke();

}

function draw_rectangle(rect, style) {
    ctx.strokeStyle = style || "green";

    ctx.strokeRect(rect[0][0], rect[0][1], rect[1][0] - rect[0][0], rect[1][1] - rect[0][1]);
}

function draw_bb2(bb, style) {
    ctx.strokeStyle = style || "green";

    ctx.strokeRect(bb[0], bb[1], bb[2] - bb[0], bb[3] - bb[1]);
}

ctx.strokeStyle = "grey";
ctx.beginPath();
ctx.moveTo(0, 480 * 0.5);
ctx.lineTo(640, 480 * 0.5);
ctx.stroke();

ctx.beginPath();
ctx.moveTo(640 * 0.5, 0);
ctx.lineTo(640 * 0.5, 480);
ctx.stroke();


ctx.translate(640 * 0.5, 480 * 0.5);


var v = Vec2.create(50, 50),
    a = Vec2.create(100, 75),
    b = Vec2.create(100, 0),
    aux = [];


draw_vec2(v, "red", "vec2");

Vec2.perp(aux, v);
draw_vec2(aux, "red", "prep");

Vec2.rerp(aux, v);
draw_vec2(aux, "red", "rperp");

draw_vec2(a, "red", "a");
draw_vec2(b, "red", "b");

Vec2.interpolate(aux, a, b, 2)
console.log(aux);
draw_vec2(aux, "red", "interpolate(a,b,2)");

Vec2.interpolate(aux, a, b, 3)
console.log(aux);
draw_vec2(aux, "red", "interpolate(a,b,3)");

Vec2.interpolate(aux, b, a, 2)
console.log(aux);
draw_vec2(aux, "red", "interpolate(b,a,2)");


</script>