require=function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);throw new Error("Cannot find module '"+g+"'")}var j=c[g]={exports:{}};b[g][0].call(j.exports,function(a){var c=b[g][1][a];return e(c?c:a)},j,j.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(){},{}],"js-2dmath":[function(a,b){b.exports=a("Focm2+")},{}],"Focm2+":[function(a,b){a("./lib/math.js"),b.exports={Vec2:a("./lib/vec2.js"),Line2:a("./lib/line2.js"),Segment2:a("./lib/segment2.js"),Rectangle:a("./lib/rectangle.js"),AABB2:a("./lib/aabb2.js"),Circle:a("./lib/circle.js"),Triangle:a("./lib/triangle.js"),Polygon:a("./lib/polygon.js"),Beizer:a("./lib/beizer.js"),Matrix23:a("./lib/matrix23.js"),Matrix22:a("./lib/matrix22.js"),Collide:a("./lib/collide.js"),Intersection:a("./lib/intersection.js"),Transitions:a("./lib/transitions.js"),Xorshift:a("./lib/xorshift.js"),Noise:a("./lib/noise.js"),Draw:a("./lib/draw.js"),NMtree:a("./lib/nmtree.js"),globalize:function(a){var b;for(b in this)a[b]=this[b]}},b.exports.Polygon.GJK=a("./lib/gjk.js"),b.exports.Polygon.EPA=a("./lib/epa.js"),b.exports.Polygon.edgeClipping=a("./lib/edge-clipping.js")},{"./lib/aabb2.js":4,"./lib/beizer.js":5,"./lib/circle.js":6,"./lib/collide.js":7,"./lib/draw.js":9,"./lib/edge-clipping.js":10,"./lib/epa.js":11,"./lib/gjk.js":12,"./lib/intersection.js":13,"./lib/line2.js":14,"./lib/math.js":15,"./lib/matrix22.js":16,"./lib/matrix23.js":17,"./lib/nmtree.js":18,"./lib/noise.js":19,"./lib/polygon.js":20,"./lib/rectangle.js":21,"./lib/segment2.js":22,"./lib/transitions.js":23,"./lib/triangle.js":24,"./lib/vec2.js":25,"./lib/xorshift.js":26}],4:[function(a,b){function c(a,b,c,d){var e=[a,b,c,d,!1];return p(e,e),e}function d(a,b,c){var d,e,f=[],g=a[0],h=a[1],i=a[2],j=a[3],k=(i-g)/b,l=(j-h)/c;for(d=0;b>d;++d)for(e=0;c>e;++e)f.push([g+d*k,h+e*l,g+(d+1)*k,h+(e+1)*l]);return f}function e(a){var b=[a[0],a[1],a[2],a[3],!1];return p(b,b),b}function f(a){return I=a[1],J=a[0][0],K=a[0][1],c(J-I,K-I,J+I,K+I)}function g(a){var b=[a[0][0],a[0][1],a[1][0],a[1][1],!1];return p(b,b),b}function h(){return[0,0,0,0,!0]}function i(a){return[a[0],a[1],a[2],a[3],a[4]]}function j(a,b){return a[0]=b[0],a[1]=b[1],a[2]=b[2],a[3]=b[3],a[4]=b[4],a}function k(a,b,c){return a[0]=b[0]-c,a[1]=b[1]-c,a[2]=b[2]+c,a[3]=b[3]+c,a}function l(a,b,c){return a[0]=x(b[0],c[0]),a[1]=x(b[1],c[1]),a[2]=y(b[2],c[2]),a[3]=y(b[3],c[3]),a}function m(a,b,c,d){return a[0]=x(b[0],c[0]+d[0]),a[1]=x(b[1],c[1]+d[1]),a[2]=y(b[2],c[2]+d[0]),a[3]=y(b[3],c[3]+d[1]),a}function n(a,b,c,d,e){return a[0]=x(b[0],c[0]*e[0]+d[0]),a[1]=x(b[1],c[1]*e[1]+d[1]),a[2]=y(b[2],c[2]*e[0]+d[0]),a[3]=y(b[3],c[3]*e[1]+d[1]),a}function o(a){return(a[2]-a[0])*(a[3]-a[1])}function p(a,b){L=b[0]>b[2]?b[2]:b[0],M=b[0]>b[2]?b[0]:b[2],N=b[1]>b[3]?b[3]:b[1],O=b[1]>b[3]?b[1]:b[3],a[0]=L,a[1]=N,a[2]=M,a[3]=O,a[4]=!0}function q(a,b,c){return J=c[0],K=c[1],a[0]=b[0]+J,a[1]=b[1]+K,a[2]=b[2]+J,a[3]=b[3]+K,a}function r(a,b,c){return a[0]=x(y(b[0],c[0]),b[2]),a[1]=x(y(b[1],c[1]),b[3]),a}function s(a,b){return a[0]=.5*(b[0]+b[1]),a[1]=.5*(b[3]+b[2]),a}function t(a,b,c){switch(c){case z:a[0]=b[0],a[1]=b[1];break;case A:a[0]=.5*(b[2]-b[0])+b[0],a[1]=b[1];break;case B:a[0]=b[2],a[1]=b[1];break;case C:a[0]=b[0],a[1]=.5*(b[3]-b[1])+b[1];break;case D:a[0]=.5*(b[2]-b[0])+b[0],a[1]=.5*(b[3]-b[1])+b[1];break;case E:a[0]=b[2],a[1]=.5*(b[3]-b[1])+b[1];break;case F:a[0]=b[0],a[1]=b[3];break;case G:a[0]=.5*(b[2]-b[0])+b[0],a[1]=b[3];break;case H:a[0]=b[2],a[1]=b[3]}return a}function u(a,b){return a[0]<b[0]&&a[2]>b[0]&&a[1]<b[1]&&a[3]>b[1]}function v(a,b){return a[0]<=b[0]&&a[1]<=b[1]&&b[2]<=a[2]&&b[3]<=a[3]}function w(a){return 2*(a[2]-a[0])+2*(a[3]-a[1])}var x=Math.min,y=Math.max,z=1,A=2,B=3,C=4,D=5,E=6,F=7,G=8,H=9,I=0,J=0,K=0,L=0,M=0,N=0,O=0,P={TOPLEFT:z,TOPMIDDLE:A,TOPRIGHT:B,CENTERLEFT:C,CENTER:D,CENTERRIGHT:E,BOTTOMLEFT:F,BOTTOM:G,BOTTOMRIGHT:H,create:c,fromAABB2Division:d,fromSegment2:e,fromCircle:f,fromRectangle:g,zero:h,clone:i,copy:j,expand:k,merge:l,offsetMerge:m,osMerge:n,area:o,normalize:p,translate:q,clampVec:r,center:s,align:t,isVec2Inside:u,isAABB2Inside:v,perimeter:w,contains:v};b.exports=P},{}],5:[function(a,b){function c(a,b,c,d,e,f,g,h){return[[a,b],[c,d],[e,f],[g,h]]}function d(a,b,c,d,e,f){return[[a,b],[c,d],[e,f]]}function e(a,b,c){return 4===b.length?(n=c*c,o=c*n,i=b[0],j=b[1],k=b[2],l=b[3],a[0]=i[0]+c*(3*-i[0]+c*(3*i[0]-i[0]*c))+c*(3*j[0]+c*(-6*j[0]+3*j[0]*c))+n*(3*k[0]-3*k[0]*c)+l[0]*o,a[1]=i[1]+c*(3*-i[1]+c*(3*i[1]-i[1]*c))+c*(3*j[1]+c*(-6*j[1]+3*j[1]*c))+n*(3*k[1]-3*k[1]*c)+l[1]*o):(i=b[0],j=b[1],k=b[2],m=1-c,a[0]=m*m*i[0]+2*m*c*j[0]+c*c*k[0],a[1]=m*m*i[1]+2*m*c*j[1]+c*c*k[1]),a}function f(a,b){var c,d,f=1/b,g=[];for(c=0;1>=c;c+=f)d=[],g.push(e(d,a,c));return g}function g(a,b){b=b||.05;var c,d,f,g=0,i=[0,0];for(c=a[0][0],d=a[0][1],f=b;1+b>=f;f+=b)e(i,a,f),g+=h((i[0]-c)*(i[0]-c)+(i[1]-d)*(i[1]-d)),c=i[0],d=i[1];return g}var h=Math.sqrt,i=0,j=0,k=0,l=0,m=0,n=0,o=0,p={cubic:c,quadric:d,solve:e,length:g,getPoints:f};b.exports=p},{}],6:[function(a,b){function c(a,b,c){return[[a,b],c]}function d(a,b){return[[a[0],a[1]],b]}function e(a){var b=[[0,0],0];return b[0][0]=.5*(a[0]+a[2]),b[0][1]=.5*(a[1]+a[3]),p=b[0][0]-a[0],q=b[0][1]-a[1],b[1]=F(p*p+q*q),b}function f(a,b){var c=[[0,0],0];return v(c[0],a),b?(G[0]=a[0][0]+.5*(a[1][0]-a[0][0]),G[1]=a[0][1],c[1]=s(c[0],G)):c[1]=s(c[0],a[0]),c}function g(a,b,c){var d=[[0,0],0];return c&&!b?(x(d[0],a),d[1]=t(d[0],a[0]),p=t(d[0],a[1]),p>d[1]&&(d[1]=p),d[1]=t(d[0],a[2]),p>d[1]&&(d[1]=p),d[1]=F(d[1]),d):(y(d[0],a),z(G,a),d[1]=t(d[0],G),A(G,a),p=t(d[0],G),p<d[1]&&(d[1]=p),B(G,a),p=t(d[0],G),p<d[1]&&(d[1]=p),d[1]=F(d[1]),d)}function h(a){return[[a[0][0],a[0][1]],a[1]]}function i(a,b){return a[0][0]=b[0][0],a[0][1]=b[0][1],a[1]=b[1],a}function j(a,b,c){return a[0][0]=b[0][0]+c[0],a[0][1]=b[0][1]+c[1],a[1]=b[1],a}function k(a,b,c){return a[0][0]=c[0],a[0][1]=c[1],a[1]=b[1],a}function l(a,b){return C(0,s(a[0],b[0])-a[1]-b[1])}function m(a){return D*a[1]}function n(a){return E*a[1]*a[1]}function o(a,b){return s(a[0],b)<a[1]}var p,q,r=a("./vec2.js"),s=(r.sub,r.distance),t=r.distanceSq,u=(r.midPoint,a("./rectangle.js")),v=u.center,w=a("./triangle.js"),x=w.circumcenter,y=w.center,z=w.abMidPoint,A=w.bcMidPoint,B=w.caMidPoint,C=Math.max,D=Math.TWOPI,E=Math.PI,F=Math.sqrt,G=[0,0],H={create:c,fromVec2:d,fromSegment2:e,fromRectangle:f,fromTriangle:g,clone:h,copy:i,translate:j,moveTo:k,distance:l,length:m,area:n,isVec2Inside:o,perimeter:m,move:k};b.exports=H},{"./rectangle.js":21,"./triangle.js":24,"./vec2.js":25}],7:[function(a,b){function c(a,b,c){return a>b-c&&b+c>a}function d(a,b,c,d,e,f){return a>e||e>c||b>f||f>d?!1:!0}function e(a,b){return d(a[0],a[1],a[2],a[3],b[0],b[1])}function f(a,b){return d(b[0],b[1],b[2],b[3],a[0],a[1])}function g(a,b){var c=a[0],e=a[1];return d(c[0],c[1],e[0],e[1],b[0],b[1])}function h(a,b){var c=b[0],e=b[1];return d(c[0],c[1],e[0],e[1],a[0],a[1])}function i(a,b){var c=b[0],d=b[1];return y(z,a[0],a[1],a[2],a[3],c,d),u(z[0],z[1],c,d)}function j(a,b){return i(b,a)}function k(a,b){var d=b[0];return c(b[1],(a[1]-d[1])/(a[0]-d[0]),D)}function l(a,b){var d=a[0];return c(a[1],(b[1]-d[1])/(b[0]-d[0]),D)}function m(a,b){strict=strict||!1;var c=a[1]+b[1],d=s.distanceSq(a[0],b[0]);return d>c*c?!1:!0}function n(a,b){var c=t(a[0],b),d=a[1],e=d*d;return e>=c}function o(a,b){n(b,a)}function p(a,b){A=v(a[2],a[0]),B=v(a[1],a[0]),C=v(b,a[0]);var c=w(A,A),d=w(A,B),e=w(A,C),f=w(B,B),g=w(B,C),h=1/(c*f-d*d),i=(f*e-d*g)*h,j=(c*g-d*e)*h;return i>=0&&j>=0&&1>i+j}function q(a,b){return p(a,b)}function r(a,b){return c(a[0],b[0],D)&&c(a[1],b[1],D)}var s=a("./vec2.js"),t=(s.distance,s.distanceSq),u=(s.midPoint,s.$near),v=s.sub,w=s.dot,x=a("./segment2.js"),y=x.$closestPoint,z=[0,0],A=[0,0],B=[0,0],C=[0,0],D=Math.EPS=.001,E={circle_circle:m,bb2_vec2:e,vec2_bb2:f,rectangle_vec2:g,vec2_rectangle:h,segment2_vec2:i,vec2_segment2:j,circle_vec2:n,vec2_circle:o,vec2_line2:k,line2_vec2:l,triangle_vec2:p,vec2_triangle:q,vec2_vec2:r};b.exports=E},{"./segment2.js":22,"./vec2.js":25}],8:[function(a,b){function c(a,b,c,d){return l=a-c,m=b-d,h(l*l+m*m)}function d(a,b,c,d){return l=a-c,m=b-d,l*l+m*m}function e(a,b){var c,d,e,f,g=a[0][0],j=a[0][1],k=a[0][0]+a[1],l=a[0][1]+a[1],m=b[0],n=b[1],o=(g-k)*(m-k)+(j-l)*(n-l),p=(m-k)*(m-k)+(n-l)*(n-l),q=0===p?0:o/p;return q>=0&&1>=q?0:(d=k+q*(m-k),e=l+q*(n-l),f=((l-j)*(m-k)-(k-g)*(n-l))/p,c=i(f)*h(p))}function f(a,b){var d,e,f=b[0]-a[0],g=b[1]-a[1],h=a[2]-a[0],i=a[3]-a[1],j=f*h+g*i,k=h*h+i*i,l=j/k;return 0>l?(d=a[0],e=a[1]):l>1?(d=a[2],e=a[3]):(d=a[0]+l*h,e=a[1]+l*i),c(b[0],b[1],d,e)}function g(a,b){k.normalize(a,a);var c=[a[0][0],a[0][1],a[0][0],a[1][1]],d=[a[0][0],a[0][1],a[1][0],a[0][1]],e=[a[0][0],a[1][1],a[1][0],a[1][1]],g=[a[1][0],a[0][1],a[1][0],a[1][1]];return j(f(c,b),f(d,b),f(e,b),f(g,b))}var h=Math.sqrt,i=Math.abs,j=Math.min,k=a("./rectangle.js"),l=0,m=0,n={fourPoints:c,sqrFourPoints:d,line2_vec2:e,segment2_vec2:f,rectangle_vec2:g,fourPointsSq:d};b.exports=n},{"./rectangle.js":21}],9:[function(a,b){function c(a,b,c){void 0!==c&&(a.strokeStyle=c),a.strokeRect(b[0][0],b[0][1],b[1][0]-b[0][0],b[1][1]-b[0][1])}function d(a,b,c){this.save(),this.transform(1,0,0,-1,0,0),q.call(this,a,b,-c),this.restore()}function e(a,b){b.setTransform(1,0,0,-1,0,a.height),b.fillText=d}function f(a,b,c){a.save(),a.strokeStyle="rgba(0,0,0, 0.25)",a.font="6pt Consolas",b=b||320,c=c||16,a.beginPath(),a.moveTo(-b,0),a.lineTo(b,0),a.stroke(),a.beginPath(),a.moveTo(0,-b),a.lineTo(0,b),a.stroke(),a.setLineDash?a.setLineDash([1,2]):a.strokeStyle="rgba(0,0,0, 0.125)",a.beginPath(),a.moveTo(-b,.5*b),a.lineTo(b,.5*b),a.stroke(),a.beginPath(),a.moveTo(-b,.5*-b),a.lineTo(b,.5*-b),a.stroke(),a.beginPath(),a.moveTo(.5*b,-b),a.lineTo(.5*b,b),a.stroke(),a.beginPath(),a.moveTo(.5*-b,-b),a.lineTo(.5*-b,b),a.stroke(),a.setLineDash([]),a.strokeStyle="rgba(0,0,0, 0.25)";var d,e,f,g=2*b/c,h=c;for(a.textAlign="center",d=0;h>=d;++d)e=-b+d*g,a.beginPath(),a.moveTo(e,4),a.lineTo(e,-4),a.stroke(),0!==e&&a.fillText(e,e,-12);for(a.fillText("(0,0)",0,-12),a.textAlign="left",d=0;h>=d;++d)f=-b+d*g,a.beginPath(),a.moveTo(4,f),a.lineTo(-4,f),a.stroke(),0!==f&&a.fillText(f,12,f-4);a.restore()}function g(a,b,c,d){a.save(),void 0!==c&&(d?a.fillStyle=c:a.strokeStyle=c),a.beginPath(),a.arc(b[0][0],b[0][1],b[1],0,2*Math.PI,!1),a.stroke(),a.beginPath(),a.arc(b[0][0],b[0][1],1,0,2*Math.PI,!1),d?a.fill():a.stroke(),a.restore()}function h(a,b,c,d){a.save(),void 0!==c&&(a.strokeStyle=c),a.beginPath();var e=b[1];d=d||100,a.moveTo(b[0][0]-d*e,b[0][1]-d),a.lineTo(b[0][0]+d*e,b[0][1]+d),a.stroke(),a.restore()}function i(a,b,c,d){a.save(),d=d||2,void 0!==c&&(a.strokeStyle=c),a.beginPath(),a.moveTo(b[0]+d,b[1]+d),a.lineTo(b[0]-d,b[1]-d),a.stroke(),a.beginPath(),a.moveTo(b[0]-d,b[1]+d),a.lineTo(b[0]+d,b[1]-d),a.stroke(),a.restore()}function j(a,b,c,d,e){a.save(),e=e||10,void 0!==d&&(a.strokeStyle=d),a.beginPath(),a.moveTo(b[0]+2,b[1]+2),a.lineTo(b[0]-2,b[1]-2),a.stroke(),a.beginPath(),a.moveTo(b[0],b[1]),a.lineTo(b[0]+Math.cos(c)*e,b[1]+Math.sin(c)*e),a.stroke(),a.restore()}function k(a,b,c){a.save(),void 0!==c&&(a.strokeStyle=c),a.beginPath(),a.moveTo(b[0],b[1]),a.lineTo(b[2],b[3]),a.stroke(),a.beginPath(),a.arc(b[0],b[1],1,0,2*Math.PI,!1),a.stroke(),a.beginPath(),a.arc(b[2],b[3],1,0,2*Math.PI,!1),a.stroke(),a.restore()}function l(a,b,c,d){a.save(),void 0!==c&&(d?a.fillStyle=c:a.strokeStyle=c),a.beginPath(),a.lineTo(b[1][0],b[1][1]),a.lineTo(b[2][0],b[2][1]),a.lineTo(b[0][0],b[0][1]),a.lineTo(b[1][0],b[1][1]),d?a.fill():a.stroke(),a.restore()}function m(a,b,c,d){a.save(),void 0!==c&&(d?a.fillStyle=c:a.strokeStyle=c),a.strokeRect(b[0],b[1],b[2]-b[0],b[3]-b[1]),a.restore()}function n(a,b,c,d){a.save(),b.length<3&&(d=!1),void 0!==c&&(d?a.fillStyle=c:a.strokeStyle=c),a.beginPath(),a.moveTo(b[0][0],b[0][1]);var e,f;for(e=1,f=b.length;f>e;++e)a.lineTo(b[e][0],b[e][1]);a.lineTo(b[0][0],b[0][1]),d?a.fill():a.stroke(),a.restore()}function o(a,b,c,d){d=d||"10pt Consolas",a.font=d,a.fillText(b,c[0],c[1])}function p(a,b){a.setTransform(b[0],b[1],b[2],b[3],b[4],b[5])}if("undefined"!=typeof CanvasRenderingContext2D){var q=CanvasRenderingContext2D.prototype.fillText;window.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(a){window.setTimeout(a,1e3/60)}}()}var r={invertAxis:e,cartesianAxis:f,vec2:i,rectangle:c,circle:g,line2:h,triangle:l,angle:j,segment2:k,aabb2:m,polygon:n,applyMatrix23:p,text:o};b.exports=r},{}],10:[function(a,b){function c(a,b){var c=g.furthestPoint(j,a,b),d=(c+a.length-1)%a.length,e=(c+1)%a.length,k=a[d],l=a[e];f.sub(h,j,l),f.sub(i,j,k);var m={};return f.dot(i,b)<=f.dot(h,b)?(m.v1=k,m.v2=j,m):(m.v1=j,m.v2=l,m)}function d(a,b,c,d){var e=f.dot(c,a)-d,g=f.dot(c,b)-d,h=[];return e>=0&&h.push(a),g>=0&&h.push(b),0>e*g&&(f.sub(k,b,a),f.add(l,a,f.scale(m,k,e/(e-g))),h.push(l)),h}function e(a,b,e){var g=c(a,e);f.negate(n,e);var h=c(b,n);f.sub(o,g.v2,g.v1),f.sub(p,h.v2,h.v1);var i,j,k,l=Math.abs(f.dot(o,e)),m=Math.abs(f.dot(p,e));m>=l?(i=g,f.normalize(q,o),j=h,k=!0):(i=h,f.normalize(q,p),j=g,k=!1);var t=f.dot(q,i.v1),u=d(j.v1,j.v2,q,t);if(u.length<2)return null;var v=-f.dot(q,i.v2);if(f.negate(r,q),u=d(u[0],u[1],r,v),u.length<2)return null;f.perp(s,q);var w=[],x=f.dot(s,i.v1),y=f.dot(s,u[0])-x,z=f.dot(s,u[1])-x;return y>0&&w.push({p:f.clone(u[0]),n:f.clone(e),d:-y}),z>0&&w.push({p:f.clone(u[1]),n:f.clone(e),d:-z}),{cp:w,incidentEdge:j,referenceEdge:i}}var f=a("./vec2.js"),g=a("./polygon.js"),h=[0,0],i=[0,0],j=[0,0],k=[0,0],l=[0,0],m=[0,0],n=[0,0],o=[0,0],p=[0,0],q=[0,0],r=[0,0],s=[0,0];b.exports=e},{"./polygon.js":20,"./vec2.js":25}],11:[function(a,b){function c(a){var b,c,d,f,h,i,j,k=1/0,l=a.length,m=l-1;for(c=0;l>c;c++)d=c===m?0:c+1,b=a[c],e.sub(g,a[d],b),h=[0,0],e.tripleProduct(h,g,b,g),e.normalize(h,h),f=e.dot(b,h),k>f&&(k=f,i=h,j=d);return{distance:k,normal:i,index:j}}function d(a,b,d){for(var g,h,i;;){if(g=c(d),i=f.furthestMinkowski([0,0],a,b,g.normal),h=e.dot(i,g.normal),h-g.distance<Math.EPS)return{normal:g.normal,depth:h};d.splice(g.index,0,i)}}var e=a("./vec2.js"),f=a("./polygon.js"),g=[0,0];b.exports=d},{"./polygon.js":20,"./vec2.js":25}],12:[function(a,b){function c(a){var b,c,d=a.length,e=a[d-2],f=a[d-3],h=g.clone(e),i=g.sub([0,0],f,h);if(g.near(i,g.ZERO,Math.EPS))return{a:e.a,b:e.b};if(b=-g.dot(i,h)/g.lengthSq(i),c=1-b,0>=c)return{a:f.a,b:f.b};if(0>=b)return{a:e.a,b:e.b};var j=[0,0],k=[0,0];g.scale(j,e.a,c),g.scale(k,f.a,b),g.add(j,j,k);var l=[0,0];return g.scale(l,e.b,c),g.scale(k,f.b,b),g.add(l,l,k),{a:j,b:l}}function d(a,b){var d,j,k,l,m,n=!1,o=!1,p=!1,q=[],r=1,s=[0,1],t=[0,0],u=[0,0],v=0,w=[];l=h.furthestMinkowski([0,0],a,b,s),r=q.push(l),g.copy(t,l),g.negate(s,s),console.log("simplex",h.toString(q));a:for(;++v;){if(g.swap(t,u),l=h.furthestMinkowski([0,0],a,b,s),r=q.push(l),g.copy(t,l),w.length)for(m=w.length-1;m--;)if(w[m][0]===t[0]&&w[m][1]===t[1])break a;if(g.near(t,g.ZERO,Math.EPS)){console.log("we happened to pick the origin as a support point... lucky."),n=!0;break}if(!o&&g.dot(t,s)<=0&&(console.log("check! -- ",g.dot(t,s)),o=!0),2===r)s=i(t,u,s);else if(o){if(g.normalize(s,s),l=g.dot(u,s),console.log(u,s),Math.abs(l-g.dot(t,s))<e){p=-l,console.log("distance",p);break}w.push(g.lengthSq(u)<g.lengthSq(q[0])?q.shift():q.splice(1,1)[0]),s=i(q[1],q[0],s)}else if(d=d||[0,0],j=j||[0,0],g.sub(d,u,t),g.sub(j,q[0],t),k=g.cross(d,j)>0,k^g.cross(t,d)>0)w.push(q.shift()),k?g.perp(s,d):g.rperp(s,d);else{if(!(k^g.cross(j,t)>0)){n=!0;break}w.push(q.splice(1,1)[0]),k?g.rperp(s,j):g.perp(s,j)}if(v>f)return{simplex:q,iterations:v,distance:0,maxIterationsReached:!0}}return l={overlap:n,simplex:q,iterations:v},p!==!1&&(l.distance=p,l.closest=c(q)),l}var e=1e-4,f=100,g=a("./vec2.js"),h=a("./polygon.js"),i=function(a,b,c){var d=g.lengthSq(b)-g.dot(b,a),e=g.dot(b,a)-g.lengthSq(a);return 0>d?g.negate(c,b):e>0?g.negate(c,a):(g.sub(c,b,a),g.perp(c,c))};b.exports=d},{"./polygon.js":20,"./vec2.js":25}],13:[function(a,b){function c(a,b){return a>b-M&&b+M>a}function d(a,b,c,d,e,f,g,h,i){var j,k,l;return e>c||b>h||f>d?{reason:O}:(k=e>a&&c>g,l=f>b&&d>h,k&&l?{reason:Q}:i===!1?{reason:R}:(j=b>f&&(k||l)?[[K(a,e),K(b,f)],[L(c,g),L(d,h)],[L(c,g),K(b,f)],[K(a,e),L(d,h)]]:[[L(c,g),K(b,f)],[K(a,e),L(d,h)]],{reason:R,points:j}))}function e(a,b,c,d,e,f){return a>e||e>c||b>f||f>d?{reason:O}:e>a&&c>e&&f>b&&d>f?{reason:Q}:{reason:R,points:[[e,f]]}}function f(a,b,c,d,e,f,g,h){var i,j,k,l,m,n,o=d-a,p=e-b,q=f-a,r=g-b,s=q-o,t=r-p,u=s*s+t*t,v=2*(s*o+t*p),w=o*o+p*p-c*c,x=v*v-4*u*w;return 0>x?{reason:O}:0===x?h===!1?{reason:T}:(i=-v/(2*u),m=[d+i*s,e+i*t],F(d,e,f,g,m[0],m[1])?{reason:T,points:[m]}:{reason:O}):x>0?(l=J(x),j=(-v+l)/(2*u),k=(-v-l)/(2*u),n=[],m=[d+j*s,e+j*t],F(d,e,f,g,m[0],m[1])&&n.push(m),m=[d+k*s,e+k*t],F(d,e,f,g,m[0],m[1])&&n.push(m),n.length?{reason:R,points:n}:{reason:O}):void 0}function g(a,b,c,d,e,g,h,i,j){var k,l=[],m=!1;return k=f(a,b,c,d,e,g,e,i,j),k.reason>=R&&(m=!0,i===!0&&(l.push(k.points[0]),2===k.points.length&&l.push(k.points[1]))),k=f(a,b,c,d,e,d,h,i,j),k.reason>=R&&(m=!0,i===!0&&(l.push(k.points[0]),2===k.points.length&&l.push(k.points[1]))),k=f(a,b,c,d,h,g,h,i,j),k.reason>=R&&(m=!0,i===!0&&(l.push(k.points[0]),2===k.points.length&&l.push(k.points[1]))),k=f(a,b,c,g,e,g,h,i,j),k.reason>=R&&(m=!0,i===!0&&(l.push(k.points[0]),2===k.points.length&&l.push(k.points[1]))),m?l===!1?{reason:R}:{reason:R,points:l}:{reason:O}}function h(a,b,c,e){return G.normalize(a,a),G.normalize(b,b),b[0]<a[0]?d(b[0],b[1],b[2],b[3],a[0],a[1],a[2],a[3],c===!0,e===!0):d(a[0],a[1],a[2],a[3],b[0],b[1],b[2],b[3],c===!0,e===!0)}function i(a,b,c,d){return e(a[0],a[1],a[2],a[3],b[0],b[1],c===!0,d===!0)}function j(a,b,c,d){return e(b[0],b[1],b[2],b[3],a[0],a[1],c===!0,d===!0)}function k(a,b,c,e){return C.normalize(a,a),C.normalize(b,b),b[0][0]<a[0][0]?d(b[0][0],b[0][1],b[1][0],b[1][1],a[0][0],a[0][1],a[1][0],a[1][1],c===!0,e===!0):d(a[0][0],a[0][1],a[1][0],a[1][1],b[0][0],b[0][1],b[1][0],b[1][1],c===!0,e===!0)}function l(a,b,c,e){return G.normalize(a,a),C.normalize(b,b),a[0]<b[0][0]?d(b[0][0],b[0][1],b[1][0],b[1][1],a[0],a[1],a[2],a[3],c===!0,e===!0):d(a[0],a[1],a[2],a[3],b[0][0],b[0][1],b[1][0],b[1][1],c===!0,e===!0)}function m(a,b,c,d){return l(b,a,c,d)}function n(a,b,c,d){return e(a[0][0],a[0][1],a[1][0],a[1][1],b[0],b[1],c===!0,d===!0)}function o(a,b,c,d){return e(b[0][0],b[0][1],b[1][0],b[1][1],a[0],a[1],c===!0,d===!0)}function p(a,b,d,e){d=d===!0,e=e===!0;var f=H.distance(a[0],b);return c(f,a[1])?{reason:R,points:[b]}:f<a[1]?{reason:Q,distance:I(f-a[1])}:{reason:O,distance:I(f-a[1])}}function q(a,b,c,d){p(b,a,c,d)}function r(a,b,c,d){c=c===!0,d=d===!0;var e,f,g,h,i,j,k,l=a[0],m=b[0],n=a[1],o=b[1],p=n*n,q=o*o,r=n+o,s=H.distanceSq(l,m);return s>r*r?{reason:O}:(e=n-o,e*e>s?{reason:Q}:c===!1?{reason:R}:(j=[],f=J(s),g=(p-q+s)/(2*f),k=p-g*g,h=J(k>0?k:-k),H.lerp(N,l,m,g/f),i=h/f,j.push([N[0]-i*(m[1]-l[1]),N[1]+i*(m[0]-l[0])]),j.push([N[0]+i*(m[1]-l[1]),N[1]-i*(m[0]-l[0])]),{reason:R,points:j}))}function s(a,b,c,d){return g(a[0][0],a[0][1],a[1],b[0],b[1],b[2],b[3],c===!0,d===!0)}function t(a,b,c,d){return g(b[0][0],b[0][1],b[1],a[0],a[1],a[2],a[3],c===!0,d===!0)}function u(a,b,c,d){return g(a[0][0],a[0][1],a[1],b[0][0],b[0][1],b[1][0],b[1][1],c===!0,d===!0)}function v(a,b,c,d){return g(b[0][0],b[0][1],b[1],a[0][0],a[0][1],a[1][0],a[1][1],c===!0,d===!0)}function w(a,b,c,d){return f(a[0][0],a[0][1],a[1],b[0],b[1],b[2],b[3],c===!0,d===!0)}function x(a,b,c,d){return f(b[0][0],b[0][1],b[1],a[0],a[1],a[2],a[3],c===!0,d===!0)}function y(a,b,c,d){c=c===!0,d=d===!0;var e,f,g,h,i,j=[a[0][0],a[0][1]],k=[0,0],l=[b[0][0],b[0][1]],m=[0,0];return H.add(k,j,[a[1],1]),H.add(m,l,[b[1],1]),e=(m[0]-l[0])*(j[1]-l[1])-(m[1]-l[1])*(j[0]-l[0]),f=(k[0]-j[0])*(j[1]-l[1])-(k[1]-j[1])*(j[0]-l[0]),g=(m[1]-l[1])*(k[0]-j[0])-(m[0]-l[0])*(k[1]-j[1]),0!==g?(h=e/g,i=f/g,h>=0&&1>=h&&i>=0&&1>=i?c===!1?{reason:R}:{reason:R,points:[[j[0]+h*(k[0]-j[0]),j[1]+h*(k[1]-j[1])]]}:{reason:O}):0===e||0===f?{reason:S}:{reason:P}}function z(a,b,c,d){c=c===!0,d=d===!0;var e,f,g,h,i,j,k,l,m,n,o;if(g=(b[3]-b[1])*(a[2]-a[0])-(b[2]-b[0])*(a[3]-a[1]),h=(b[2]-b[0])*(a[1]-b[1])-(b[3]-b[1])*(a[0]-b[0]),i=(a[2]-a[0])*(a[1]-b[1])-(a[3]-a[1])*(a[0]-b[0]),Math.abs(h)<Math.EPS&&Math.abs(i)<Math.EPS&&Math.abs(g)<Math.EPS){if(c===!1)return{reason:R};for(j=[],j.push(A(b,[a[0],a[1]])),j.push(A(b,[a[2],a[3]])),j.push(A(a,[b[0],b[1]])),j.push(A(a,[b[2],b[3]])),l=j.length,m={distance:!1,point:null},n={distance:!1,point:null},k=0;l>k;++k)j[k].reason<=R?(j.splice(k,1),--k,l=j.length):(o=H.lengthSq(j[k].points[0]),(m.distance===!1||m.distance>o)&&(m.distance=o,m.point=j[k].points[0]),(n.distance===!1||m.distance<o)&&(n.distance=o,n.point=j[k].points[0]));return j.length>1?{reason:R,points:[],segments:[[m.point[0],m.point[1],n.point[0],n.point[1]]]}:{reason:S}}return Math.abs(g)<Math.EPS?{reason:P}:(e=h/g,f=i/g,0>e||e>1||0>f||f>1?{reason:O}:c===!1?{reason:R}:{reason:R,points:[[a[0]+e*(a[2]-a[0]),a[1]+e*(a[3]-a[1])]]})}function A(a,b){var c=D.segment2_vec2(a,b);return 0===c?{reason:R,points:[b]}:{reason:O,distance:c}}function B(a,b){return A(b,a)}var C=a("./rectangle.js"),D=a("./distance.js"),E=a("./segment2.js"),F=E.$inside,G=a("./aabb2.js"),H=a("./vec2.js"),I=Math.abs,J=Math.sqrt,K=Math.max,L=Math.min,M=Math.EPS,N=[0,0],O=1,P=2,Q=4,R=8,S=16,T=32,U={OUTSIDE:O,PARALLEL:P,COLLIDE:R,INSIDE:Q,COINCIDENT:S,TANGENT:T,bb2_bb2:h,bb2_vec2:i,vec2_bb2:j,rectangle_rectangle:k,bb2_rectangle:l,rectangle_bb2:m,rectangle_vec2:n,vec2_rectangle:o,circle_vec2:p,vec2_circle:q,circle_circle:r,circle_bb2:s,bb2_circle:t,circle_rectangle:u,rectangle_circle:v,circle_segment2:w,segment2_circle:x,line2_line2:y,segment2_segment2:z,segment2_vec2:A,vec2_segment2:B,$rectangle_rectangle:d,$rectangle_vec2:e,$circle_segment2:f,$circle_rectangle:g};b.exports=U},{"./aabb2.js":4,"./distance.js":8,"./rectangle.js":21,"./segment2.js":22,"./vec2.js":25}],14:[function(a,b){function c(a,b,c){return[[a,b],c]}function d(){return[[0,0],0]}function e(a,b){return[[a[0],a[1]],(a[0]-b[0])/(a[0]-b[1])]}function f(a,b,c,d){return[[a,b],(a-c)/(b-d)]}function g(a){return[[a[0],a[1]],(a[0]-a[2])/(a[1]-a[3])]}function h(a,b){return a[0][0]=b[0][0],a[0][1]=b[0][1],a[1]=b[1],a}function i(a){return[[a[0][0],a[0][1]],a[1]]}function j(a,b,c){return a[0][0]=b[0][0]+c[0],a[0][1]=b[0][1]+c[1],a[1]=b[1],a}function k(a,b,c){return a[0][0]=b[0][0]-c[0],a[0][1]=b[0][1]-c[1],a[1]=b[1],a}function l(a,b,c){return a[0][0]=b[0][0]+c,a[0][1]=b[0][1],a[1]=b[1],a}function m(a,b,c){return a[0][0]=b[0][0],a[0][1]=b[0][1],a[1]=p(q(b[1])+c),a}function n(a,b,c){var d=b[1];return mp=1/d,a[1]=(mp*c[0]+c[1]-b[0][1])/(d+mp),a[0]=d*a[1]+b[0][1],a}function o(a,b){var c=a[0];return r(a[1],(b[1]-c[1])/(b[0]-c[0]))}var p=(Math.sqrt,Math.tan),q=Math.atan,r=(Math.sin,Math.cos,Math.near),s={create:c,zero:d,fromVec2:e,from2Points:f,fromSegment2:g,copy:h,clone:i,add:j,subtract:k,offset:l,rotate:m,closetPoint:n,isVec2Inside:o,translate:j,sub:k};b.exports=s},{}],15:[function(){!function(){"use strict";function a(a,b){return a>b-E&&b+E>a}function b(a){return 0>a?0:a>1?1:a}function c(a,b,c){return a*(1-c)+b*c}function d(a,b,c){return a+(b-a)*c}function e(a,b,c){return a+n(b-a,-c,c)}function f(a,b){return void 0===a?A():(b=b||0,A()*(a-b)+b)}function g(a,b){return b=b||0,C(A()*(a-b+1)+b)}function h(a,b){return Math.floor(a/b)*b}function i(a,b){var c=a/b|0,d=a-c*b,e=d>b/2?B:C;return e(a/b)*b}function j(a){return a>u&&o>a?a:(a%=s,u>a?a+=s:a>o&&(a-=s),a)}function k(a,b){return j(a-b)}function l(a){next=pow(2,B(D(a)/z))}function m(a){return 0===(a&a-1)&&0!==a}var n,o,p,q,r,s,t,u,v,w,x,y,z,A=(Math.sqrt,Math.random),B=Math.ceil,C=Math.floor,D=Math.log,E=.01;o=Math.PI,p=Math.QUATER_PI=.25*Math.PI,q=Math.HALF_PI=.5*Math.PI,r=Math.HALF_NPI=-.5*Math.PI,s=Math.TWO_PI=2*Math.PI,t=Math.TWO_HALF_PI=2*Math.PI+Math.HALF_PI,u=Math.NPI=-Math.PI,v=Math.NQUATER_PI=.25*Math.NPI,w=Math.NHALF_PI=.5*Math.NPI,x=Math.NTWO_PI=2*Math.NPI,y=Math.NTWO_HALF_PI=2*Math.NPI+Math.HALF_PI,z=Math.LOG2=D(2),Math.INV_PI=1/Math.PI,Math.RAD_TO_DEG=180/Math.PI,Math.DEG_TO_RAD=Math.PI/180,Math.EPS=E,Math.clamp=n=function(a,b,c){return b>a?b:a>c?c:a},console.log(c(0,1,.5)),console.log(d(0,1,.5)),Math.near=a,Math.clamp01=b,Math.lerp=c,Math.lerpconst=e,Math.randRange=f,Math.randInt=g,Math.snap=h,Math.snapRound=i,Math.deltaRotation=k,Math.normalizeRadians=j,Math.powerOfTwo=l,Math.isPowerOfTwo_=m}()},{}],16:[function(a,b){function c(){return[1,0,0,1,0]}function d(a){a=a||0;var b=o(a),c=p(a);return[b,-c,c,b,a]}function e(a,b,c,d){return[a,b,c,d,q(a)]}function f(){return[0,0,0,0,0]}function g(){return[1,0,0,1,0]}function h(a,b){return a[0]=b[0],a[1]=b[1],a[2]=b[2],a[3]=b[3],a[4]=b[4],a}function i(a,b,c){var d=c[0],e=c[1],f=b[0],g=b[2],h=b[1],i=b[3],j=1/(f*i-g*h);return a[0]=j*(i*d-g*e),a[1]=j*(f*e-h*d),a}function j(a){return a[0]*a[3]-a[1]*a[2]}function k(a,b){var c=o(b),d=p(b);return a[0]=c,a[1]=-d,a[2]=d,a[3]=c,a}function l(a,b,c){return a[0]=c[0]*b[0]-c[1]*b[3],a[1]=c[0]*b[3]+c[1]*b[0],a}function m(a,b,c){return a[0]=c[0]*b[0]+c[1]*b[3],a[1]=-c[0]*b[3]+c[1]*b[0],a}function n(a,b){var c=b[0],d=b[2],e=b[1],f=b[3],g=1/(c*f-d*e);return a[0]=g*f,a[2]=-g*d,a[1]=-g*e,a[3]=g*c,a}var o=Math.cos,p=Math.sin,q=Math.acos,r={create:c,fromAngle:d,fromNumbers:e,zero:f,identity:g,copy:h,solve:i,determinant:j,setRotation:k,rotate:l,unrotate:m,invert:n};b.exports=r},{}],17:[function(a,b){function c(){return[1,0,0,1,0,0,[1,1,0,0,0],!1]}function d(){}function e(a,b){return a[0]=b[0],a[1]=b[1],a[2]=b[2],a[3]=b[3],a[4]=b[4],a[5]=b[5],a[6][0]=b[6][0],a[6][1]=b[6][1],a[6][2]=b[6][2],a[6][3]=b[6][3],a[6][4]=b[6][4],a[7]=b[7],a}function f(a){return a[0]=1,a[1]=0,a[2]=0,a[3]=1,a[4]=0,a[5]=0,a[6][0]=1,a[6][1]=1,a[6][2]=0,a[6][3]=0,a[6][4]=0,a[7]=!1,a}function g(a,b,c){return h(a,b,c*R)}function h(a,b,c){return X=T(c),Y=U(c),$=b[0]*X+b[2]*Y,_=b[1]*X+b[3]*Y,ab=b[0]*-Y+b[2]*X,bb=b[1]*-Y+b[3]*X,a[0]=$,a[1]=_,a[2]=ab,a[3]=bb,a[4]=b[4],a[5]=b[5],a[6][0]=b[6][0],a[6][1]=b[6][1],a[6][2]=b[6][2],a[6][3]=b[6][3],a[6][4]=b[6][4]+c,a[7]=!0,a}function i(a,b,c){return j(a,b,c*R)}function j(a,b,c){return X=c-a[6][4],h(a,b,X),a[6][4]=c,a[7]=!0,a}function k(a,b,c){return a[0]=b[0],a[1]=b[1],a[2]=b[2],a[3]=b[3],a[4]=b[4]+b[0]*c[0]+b[2]*c[1],a[5]=b[5]+b[1]*c[0]+b[3]*c[1],a[6][0]=b[6][0],a[6][1]=b[6][1],a[6][2]=b[6][2],a[6][3]=b[6][3],a[6][4]=b[6][4],a[7]=!0,a}function l(a,b,c){return a[0]=b[0],a[1]=b[1],a[2]=b[2],a[3]=b[3],a[4]=b[4]+c[0],a[5]=b[5]+c[1],a[6][0]=b[6][0],a[6][1]=b[6][1],a[6][2]=b[6][2],a[6][3]=b[6][3],a[6][4]=b[6][4],a[7]=!0,a}function m(a,b,c){return a[0]=b[0],a[1]=b[1],a[2]=b[2],a[3]=b[3],a[4]=c[0],a[5]=c[1],a[6][0]=b[6][0],a[6][1]=b[6][1],a[6][2]=b[6][2],a[6][3]=b[6][3],a[6][4]=b[6][4],a[7]=!0,a}function n(a,b,c){return P=c[0],Q=c[1],a[0]=b[0]*P,a[1]=b[1]*P,a[2]=b[2]*Q,a[3]=b[3]*Q,a[4]=b[4],a[5]=b[5],a[6][0]=b[6][0]*P,a[6][1]=b[6][1]*Q,a[6][2]=b[6][2],a[6][3]=b[6][3],a[6][4]=b[6][4],a[7]=!0,a}function o(a,b,c){return n(a,b,[c[0]/b[6][0],c[1]/b[6][1]])}function p(a,b,c){return q(a,b,c*R)}function q(a,b,c){return Z=V(c),a[0]=b[0],a[1]=b[1],a[2]=b[2]+b[0]*Z,a[3]=b[3]+b[1]*Z,a[4]=b[4],a[5]=b[5],a[6][0]=b[6][0],a[6][1]=b[6][1],a[6][2]=b[6][2]+c,a[6][3]=b[6][3],a[6][4]=b[6][4],a[7]=!0,a}function r(a,b,c){return s(a,b,c*R)}function s(a,b,c){return Z=V(c),a[0]=b[0]+b[2]*Z,a[1]=b[1]+b[3]*Z,a[2]=b[2],a[3]=b[3],a[4]=b[4],a[5]=b[5],a[6][0]=b[6][0],a[6][1]=b[6][1],a[6][2]=b[6][2],a[6][3]=b[6][3]+Z,a[6][4]=b[6][4],a[7]=!0,a}function t(a,b,c){return W[0]=c[0]*R,W[1]=c[1]*R,u(a,b,W)}function u(a,b,c){return X=V(c[0]),Y=V(c[1]),a[0]=b[0]+b[2]*Y,a[1]=b[1]+b[3]*Y,a[2]=b[2]+b[0]*X,a[3]=b[3]+b[1]*X,a[4]=b[4],a[5]=b[5],a[6][0]=b[6][0],a[6][1]=b[6][1],a[6][2]=b[6][2]+c[0],a[6][3]=b[6][3]+c[1],a[6][4]=b[6][4],a[7]=!0,a}function v(a,b,c){return W[0]=c[0]*R,W[1]=c[1]*R,w(a,b,W)}function w(a,b,c){return X=V(c[0]-b[6][2]),Y=V(c[1]-b[6][3]),a[0]=b[0]+b[2]*Y,a[1]=b[1]+b[3]*Y,a[2]=b[2]+b[0]*X,a[3]=b[3]+b[1]*X,a[4]=b[4],a[5]=b[5],a[6][0]=b[6][0],a[6][1]=b[6][1],a[6][2]=c[0],a[6][3]=c[1],a[6][4]=b[6][4],a[7]=!0,a}function x(a,b,c){return $=b[0]*c[0]+b[2]*c[1],_=b[1]*c[0]+b[3]*c[1],ab=b[0]*c[2]+b[2]*c[3],bb=b[1]*c[2]+b[3]*c[3],cb=b[0]*c[4]+b[2]*c[5]+b[4],db=b[1]*c[4]+b[3]*c[5]+b[5],a[0]=$,a[1]=_,a[2]=ab,a[3]=bb,a[4]=cb,a[5]=db,a[6][0]=b[6][0],a[6][1]=b[6][1],a[6][2]=b[6][2],a[6][3]=b[6][3],a[6][4]=b[6][4],a[7]=!0,a}function y(a,b,c){return a[0]=c[0]*b[0]+c[0]*b[2]+c[0]*b[4],a[1]=c[1]*b[1]+c[1]*b[3]+c[1]*b[5],a}function z(a,b){return a[0]=b[4],a[1]=b[5],a}function A(a,b){return a[0]=b[6][0],a[1]=b[6][1],a}function B(a,b){return a[0]=b[6][2],a[1]=b[6][3],a}function C(a,b){return h(a,b,S)}function D(){}function E(){}function F(a,b){var c=b[1][1]*b[2][2]-b[1][2]*b[2][1],d=b[1][2]*b[2][0]-b[1][0]*b[2][2],e=b[1][0]*b[2][1]-b[1][1]*b[2][0];return b[0][0]*c+b[0][1]*d+b[0][2]*e}function G(a,b){return[1,0,0,1,a,b]}function H(a){return[1,0,V(.017453292519943295*a),1,0,0]}function I(a){return[1,0,V(a),1,0,0]}function J(a){return[1,V(.017453292519943295*a),0,1,0,0]}function K(a){return[1,V(a),0,1,0,0]}function L(a){var b=T(a),c=U(a);return[b,-c,c,b,0,0]}function M(a,b){return[a,0,0,b,0,0]}function N(a,b,c,d){a[0]=b[0]+(c[0]-b[0])*d,a[1]=b[1]+(c[1]-b[1])*d,a[2]=b[2]+(c[2]-b[2])*d,a[3]=b[3]+(c[3]-b[3])*d,a[4]=b[4]+(c[4]-b[4])*d,a[5]=b[5]+(c[5]-b[5])*d;var e=a[6],f=b[6],g=c[6];return e[0]=f[0]+(g[0]-f[0])*d,e[1]=f[1]+(g[1]-f[1])*d,e[2]=f[2]+(g[2]-f[2])*d,e[3]=f[3]+(g[3]-f[3])*d,e[4]=f[4]+(g[4]-f[4])*d,a[7]=b[7],a}function O(a,b,c){return a[0]=c[0]*b[0]+c[1]*b[1]+b[4],a[1]=c[0]*b[2]+c[1]*b[3]+b[5],a}var P,Q,R=Math.DEG_TO_RAD,S=Math.PI,T=Math.cos,U=Math.sin,V=Math.tan,W=(Math.atan2,[0,0]),X=0,Y=0,Z=0,$=0,_=0,ab=0,bb=0,cb=0,db=0,eb={create:c,fromPoints:d,copy:e,identity:f,dRotate:g,rotate:h,dRotation:i,rotation:j,translate:k,gTranslate:l,position:m,scale:n,scalation:o,dSkewX:p,skewX:q,dSkewY:r,skewY:s,dSkew:t,skew:u,dSetSkew:v,setSkew:w,multiply:x,multiplyVec2:y,getPosition:z,getScale:A,getSkew:B,reflect:C,inverse:D,transpose:E,determinant:F,translationMatrix:G,dSkewXMatrix:H,skewXMatrix:I,dSkewYMatrix:J,skewYMatrix:K,scalingMatrix:M,rotationMatrix:L,interpolate:N,transform:O,dSetRotation:i,setRotation:j,setPosition:m,setScale:o};b.exports=eb},{}],18:[function(a,b){function c(a,b,c,d){this.objects=[],this.bounds=a,this.maxObjects=b||10,this.maxLevels=c||4,this.subdivisions=d||[2,2]}var d=a("./aabb2.js"),e=d.fromAABB2Division,f=d.contains;c.prototype.level=0,c.prototype.maxLevels=4,c.prototype.maxObjects=10,c.prototype.subtrees=null,c.prototype.bounds=null,c.prototype.objects=[],c.prototype.subdivisions=[2,2],c.prototype.divide=function(){var a,b,d,f,g=this.objects,h=e(this.bounds,this.subdivisions[0],this.subdivisions[1]);for(this.subtrees=[],this.objects=[],b=0,d=h.length;d>b;b++)f=new c(h[b]),f.level=this.level+1,this.subtrees.push(f);for(a=0,d=g.length;d>a;a++)this.subinsert(g[a])||this.objects.push(g[a])},c.prototype.subinsert=function(a){if(!this.subtrees)return!1;for(var b=0,c=this.subtrees.length;c>b&&!this.subtrees[b].insert(a.bounds,a.userdata);)++b;return b!==c},c.prototype.insert=function(a,b){if(f(this.bounds,a)){var c={bounds:a,userdata:b};if(!this.subinsert(c)){if(!this.subtrees&&this.objects.length===this.maxObjects&&this.level<this.maxLevels&&(this.divide(),this.subinsert(c)))return!0;this.objects.push(c)}return!0}return!1},c.prototype.retrieve=function(a,b){b=b||[];var c,d,e,f=this.objects;if(f&&f.length)for(c=0,d=f.length;d>c&&!e;c++)f[c].userdata===a&&(e=!0);if(e)return this.iterate(function(a){if(a.objects){var c,d;for(c=0,d=a.objects.length;d>c;++c)b.push(a.objects[c])}}),b;if(this.subtrees)for(c=0,d=this.subtrees.length;d>c;c++)this.subtrees[c].retrieve(a,b);return b},c.prototype.iterate=function(a){var b,c;if(a(this),this.subtrees)for(b=0,c=this.subtrees.length;c>b;++b)this.subtrees[b].iterate(a)},c.prototype.remove=function(a){var b,c,d,e=this.objects;if(e&&e.length)for(b=0,c=e.length;c>b&&!d;b++)if(e[b].userdata===a)return e.splice(b,1),!0;
if(this.subtrees)for(b=0,c=this.subtrees.length;c>b;b++)if(this.subtrees[b].remove(a))return!0;return!1},b.exports=c},{"./aabb2.js":4}],19:[function(a,b){function c(a,b,c){return a[0]*b+a[1]*c}function d(a,b,c){return(1-c)*a+c*b}function e(a){return a*a*a*(a*(6*a-15)+10)}function f(a){this.seed(a)}function g(a){this.seed(a)}function h(a){return new f(a)}function i(a){return new g(a)}var j=a("object-enhancements"),k=a("./xorshift.js"),l=[[1,1,0],[-1,1,0],[1,-1,0],[-1,-1,0],[1,0,1],[-1,0,1],[1,0,-1],[-1,0,-1],[0,1,1],[0,-1,1],[0,1,-1],[0,-1,-1]],m=[[0,1,1,1],[0,1,1,-1],[0,1,-1,1],[0,1,-1,-1],[0,-1,1,1],[0,-1,1,-1],[0,-1,-1,1],[0,-1,-1,-1],[1,0,1,1],[1,0,1,-1],[1,0,-1,1],[1,0,-1,-1],[-1,0,1,1],[-1,0,1,-1],[-1,0,-1,1],[-1,0,-1,-1],[1,1,0,1],[1,1,0,-1],[1,-1,0,1],[1,-1,0,-1],[-1,1,0,1],[-1,1,0,-1],[-1,-1,0,1],[-1,-1,0,-1],[1,1,1,0],[1,1,-1,0],[1,-1,1,0],[1,-1,-1,0],[-1,1,1,0],[-1,1,-1,0],[-1,-1,1,0],[-1,-1,-1,0]],n=[[0,1,2,3],[0,1,3,2],[0,0,0,0],[0,2,3,1],[0,0,0,0],[0,0,0,0],[0,0,0,0],[1,2,3,0],[0,2,1,3],[0,0,0,0],[0,3,1,2],[0,3,2,1],[0,0,0,0],[0,0,0,0],[0,0,0,0],[1,3,2,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[1,2,0,3],[0,0,0,0],[1,3,0,2],[0,0,0,0],[0,0,0,0],[0,0,0,0],[2,3,0,1],[2,3,1,0],[1,0,2,3],[1,0,3,2],[0,0,0,0],[0,0,0,0],[0,0,0,0],[2,0,3,1],[0,0,0,0],[2,1,3,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[2,0,1,3],[0,0,0,0],[0,0,0,0],[0,0,0,0],[3,0,1,2],[3,0,2,1],[0,0,0,0],[3,1,2,0],[2,1,0,3],[0,0,0,0],[0,0,0,0],[0,0,0,0],[3,1,0,2],[0,0,0,0],[3,2,0,1],[3,2,1,0]],o=Math.sqrt,p=Math.floor,q=(Math.random,o(3)),r={};f.prototype={_octaves:4,_fallout:.5,seed:function(a){var b,c=k.create(a||(new Date).getTime()).random,d=[],e=[];for(b=0;256>b;b++)d[b]=p(256*c());for(b=0;512>b;b++)e[b]=d[255&b];this._perm=e},octaves:function(a){return arguments.length?this._octaves=a:this._octaves},fallout:function(a){return arguments.length?this._fallout=a:this._fallout},noise:function(a,b){var c,d=0,e=1,f=this._octaves,g=.5,h=this._fallout;for(c=0;f>c;++c)d+=(1+this.noise2d(a*e,b*e))*g*.5,g*=h,e*=2;return d},noise2d:function(a,b){var f=p(a),g=p(b),h=this._perm;a-=f,b-=g,f=255&f,g=255&g;var i=h[f+h[g]]%12,j=h[f+h[g+1]]%12,k=h[f+1+h[g]]%12,m=h[f+1+h[g+1]]%12,n=c(l[i],a,b),o=c(l[k],a-1,b),q=c(l[j],a,b-1),r=c(l[m],a-1,b-1),s=e(a),t=e(b),u=d(n,o,s),v=d(q,r,s),w=d(u,v,t);return w}},g.prototype=j.extend({},f.prototype,{noise:function(a,b){var c,d=0,e=1,f=this._octaves,g=.5,h=this._fallout;for(c=0;f>c;++c)d+=(1+this.noise2d(a*e,b*e))*g*.5,g*=h,e*=2;return d},noise2d:function(a,b){var d,e,f,g,h,i=.5*(q-1),j=(a+b)*i,k=p(a+j),m=p(b+j),n=(3-q)/6,o=(k+m)*n,r=k-o,s=m-o,t=a-r,u=b-s,v=this._perm;t>u?(g=1,h=0):(g=0,h=1);var w=t-g+n,x=u-h+n,y=t-1+2*n,z=u-1+2*n,A=255&k,B=255&m,C=v[A+v[B]]%12,D=v[A+g+v[B+h]]%12,E=v[A+1+v[B+1]]%12,F=.5-t*t-u*u;0>F?d=0:(F*=F,d=F*F*c(l[C],t,u));var G=.5-w*w-x*x;0>G?e=0:(G*=G,e=G*G*c(l[D],w,x));var H=.5-y*y-z*z;return 0>H?f=0:(H*=H,f=H*H*c(l[E],y,z)),70*(d+e+f)}}),r={GRAD3:l,GRAD4:m,SIMPLEX:n,ClassicNoise:f,SimplexNoise:g,createClassic:h,createSimpleX:i},b.exports=r},{"./xorshift.js":26,"object-enhancements":29}],20:[function(a,b){function c(){var a,b=arguments.length,c=new Array(b);for(a=0;b>a;++a)c[a]=arguments[a];return c}function d(a){var b,c,d=0,e=a[0][0];for(b=1;b<a.length;b++)c=a[b][0],(c>e||c===e&&a[b][1]<a[d][1])&&(d=b,e=c);var f,g,h,i=a.length,j=[],k=0,l=d,m=[0,0],n=[0,0];do{for(j[k]=l,f=0,g=1;i>g;++g)f!==l?(E(m,a[f],a[j[k]]),E(n,a[g],a[j[k]]),h=C.cross(m,n),0>h&&(f=g),0===h&&J(n)>J(m)&&(f=g)):f=g;++k,l=f}while(f!==d);var o=[];for(b=0;k>b;++b)o.push(a[j[b]]);return o}function e(a){var b=new Array(4);return b[0]=[a[0],a[1]],b[1]=[a[0],a[3]],b[2]=[a[2],a[3]],b[3]=[a[2],a[1]],b}function f(a){var b=new Array(4);return b[0]=[a[0][0],a[0][1]],b[1]=[a[0][0],a[1][1]],b[2]=[a[1][0],a[1][1]],b[3]=[a[1][0],a[0][1]],b}function g(a,b){return N(a,b)}function h(a,b,c){for(var d,e,f=c,g=Math.TWO_PI+c,h=Math.TWO_PI/b,i=[],j=a[0][0],k=a[0][1],l=a[1];g>f;f+=h)d=Q(f),e=R(f),i.push([j+d*l,k+e*l]);return i}function i(a,b,c){var d=b.length-1;w=c[0],x=c[1];do z=b[d],y=a[d]=a[d]||[0,0],y[0]=z[0]+w,y[1]=z[1]+x;while(d--);return a}function j(a,b,c){a.length>b.length&&a.splice(b.length);var d=b.length-1;A=Q(c),B=R(c);do z=b[d],y=a[d]=a[d]||[0,0],w=z[0],x=z[1],y[0]=w*A-x*B,y[1]=w*B+x*A;while(d--);return a}function k(a,b){a.length>b.length&&a.splice(b.length);for(var c=0,d=b.length,e=d-1;d>c;c++)E(a[c]=a[c]||[0,0],b[e>c?c+1:0],b[c]);return a}function l(a,b){var c=0,d=b.length-1;for(a.length>b.length&&a.splice(b.length);d>c;c++)a[c]=a[c]||[0,0],K(a[c],b[c]),I(a[c],a[c]);return a}function m(a,b){var c=0,d=b.length;for(O=0,a[0]=0,a[1]=1;d>c;++c)S[0]=b[c][0],S[1]=b[c][1],v=c===d?0:c,T[0]=b[v][0],T[0]=b[v][1],P=F(S,T),O+=P,D(S,S,T),G(S,S,P),D(a,a,S);return G(a,1/(3*O))}function n(a,b){var c=0,d=b.length;a.length>b.length&&a.splice(b.length),m(U,b);for(var e=U[0],f=U[1];d>c;++c)a[c]=a[c]||[0,0],a[c][0]+=e,a[c][1]+=f}function o(a){for(var b=0,c=0,d=a.length;d>c;++c)v=c===d?0:c,b-=a[c][0]*a[v][0]-a[c][1]*a[v][1];return.5*b}function p(a,b,c){var d=0,e=b.length;for(a.length>b.length&&a.splice(b.length);e>d;++d)L.transform(a[d]=a[d]||[],c,b[d]);return a}function q(a,b){for(var c=0,d=a.length,e=d-1,f=!1;d>c;e=c++)a[c][1]>=b[1]!=a[e][1]>=b[1]&&b[0]<=(a[e][0]-a[c][0])*(b[1]-a[c][1])/(a[e][1]-a[c][1])+a[c][0]&&(f=!f);return f}function r(a,b,c){var d,e,f,g,h=-1/0;for(e=0,f=b.length;f>e;++e)g=C.dot(b[e],c),g>h&&(d=e,h=g);return a[0]=b[d][0],a[1]=b[d][1],d}function s(a,b,c,d){return r(W,b,d),H(V,d),r(X,c,V),E(a,W,X)}function t(a,b){var c,e,f=a.length,g=b.length,h=f*g,i=new Array(h),j=0;for(c=0;f>c;++c)for(e=0;g>e;++e)i[j++]=[a[c][0]-b[e][0],a[c][1]-b[e][1]];return console.log(u(a)),console.log(u(b)),console.log(u(i)),i.forEach(function(a){Draw.vec2(ctx,a,"red")}),d(i)}function u(a){var b,c=[],d=a.length;for(b=0;d>b;++b)c.push(C.toString(a[b]));return"{"+c.join(",")+"}"}var v,w,x,y,z,A,B,C=a("./vec2.js"),D=C.add,E=C.sub,F=C.cross,G=C.scale,H=C.negate,I=C.normalize,J=C.lengthSq,K=C.perp,L=a("./matrix23.js"),M=a("./beizer.js"),N=M.getPoints,O=0,P=0,Q=(Math.sqrt,Math.cos),R=Math.sin,S=(Math.EPS,[0,0]),T=[0,0],U=[0,0],V=[0,0],W=[0,0],X=[0,0],Y={create:c,createConvexHull:d,fromAABB:e,fromRectangle:f,fromBeizer:g,fromCircle:h,translate:i,rotate:j,centroid:m,recenter:n,area:o,transform:p,normals:l,edges:k,isVec2Inside:q,furthestPoint:r,furthestMinkowski:s,MinkowskiDifference:t,toString:u};b.exports=Y},{"./beizer.js":5,"./matrix23.js":17,"./vec2.js":25}],21:[function(a,b,c){function d(a,b,c,d){var e=[[a,b],[c,d],!1];return i(e,e),e}function e(a){return d(a[0],a[1],a[2],a[3])}function f(){return[[0,0],[0,0],!0]}function g(a){return[[a[0][0],a[0][1]],[a[1][0],a[1][1]],a[2]]}function h(a,b){return a[0][0]=b[0][0],a[0][1]=b[0][1],a[1][0]=b[1][0],a[1][1]=b[1][1],a[2]=b[2],a}function i(a,b,c){return(c=c||b[2]===!1||!1)?(v=s(b[0][0],b[1][0]),w=r(b[0][0],b[1][0]),a[0][0]=v,a[1][0]=w,v=s(b[0][1],b[1][1]),w=r(b[0][1],b[1][1]),a[0][1]=v,a[1][1]=w,a[2]=!0,a):(h(a,b),a)}function j(a,b){return a[0]=.5*(b[0][0]+b[1][0]),a[1]=.5*(b[0][1]+b[1][1]),a}function k(a,b,c){return a[0][0]=b[0][0]+c[0],a[0][1]=b[0][1]+c[1],a[1][0]=b[1][0]+c[0],a[1][1]=b[1][1]+c[1],a}function l(a,b){return j(t,a),j(u,b),q(u,t)}function m(a){return v=a[0][0]-a[1][0],w=a[0][1]-a[1][1],v*=w,0>v?-v:v}function n(a,b){return a[0][0]<b[0]&&a[1][0]>b[0]&&a[0][1]<b[1]&&a[1][1]>b[1]}function o(a){return 2*(a[1][0]-a[0][0])+2*(a[1][1]-a[0][1])}var p="undefined"==typeof c?window.Vec2:a("./vec2.js"),q=p.distance,r=Math.max,s=Math.min,t=[0,0],u=[0,0],v=0,w=0,x={fromBB:e,create:d,zero:f,clone:g,copy:h,normalize:i,center:j,translate:k,distance:l,area:m,isVec2Inside:n,perimeter:o};b.exports=x},{"./vec2.js":25}],22:[function(a,b){function c(a,b,c,d){return c>a?[a,b,c,d]:[c,d,a,b]}function d(a,b){if(b[0]<b[1])a[0]=b[0],a[1]=b[1],a[2]=b[2],a[3]=b[3];else{var c=b[0],d=b[1];a[0]=b[2],a[1]=b[3],a[2]=c,a[3]=d}return a}function e(a){return[a[0],a[1],a[2],a[3]]}function f(a,b){return a[0]=b[0],a[1]=b[1],a[2]=b[2],a[3]=b[3],a}function g(a,b,c){return a[0]=b[0]+c[0],a[1]=b[1]+c[1],a[2]=b[2]+c[0],a[3]=b[3]+c[1],a}function h(a){return y=a[2]-a[0],z=a[3]-a[1],E(y*y+z*z)}function i(a){return y=a[2]-a[0],z=a[3]-a[1],y*y+z*z}function j(a,b){return a[0]=.5*(b[0]+b[2]),a[1]=.5*(b[1]+b[3]),a}function k(a){return(a[0]-a[2])/(a[1]-a[3])}function l(a){return F(a[3]-a[1],a[2]-a[0])}function m(a,b){return(a[0]-b[0])*(a[3]-b[1])-(a[1]-b[1])*(a[2]-b[0])}function n(a,b){return H((a[2]-a[0])*(b[1]-b[1]),(b[0]-a[0])*(a[3]-a[1]))}function o(){throw new Error("todo")}function p(a,b){return n(a,b)&&D([a[0],a[1]],b,[a[2],a[3]])}function q(a,b,c){return C[0]=a[0],C[1]=a[1],l=A.angleTo(b,C),c=c||J.angle(a),c>=0?(x=c,c-=G,cache_seg2_angle_max=x,l>c&&cache_seg2_angle_max>l):(cache_seg2_angle_max=c+G,c>l||l>cache_seg2_angle_max)}function r(a,b){return a[0]=b[2]-b[0],a[1]=b[3]-b[1],B(a,a,-Math.HALF_PI),a}function s(a,b){return a[0]=b[2]-b[0],a[1]=b[3]-b[1],B(a,a,Math.HALF_PI),a}function t(a,b,c){return u(a,b[0],b[1],b[2],b[3],c[0],c[1])}function u(a,b,c,d,e,f,g){return y=d-b,z=e-c,I=((f-b)*y+(g-c)*z)/(y*y+z*z),I>1?I=1:0>I&&(I=0),a[0]=b+I*y,a[1]=c+I*z,a}function v(a,b,c,d,e,f){return H((c-a)*(f-b),(e-a)*(d-b))}function w(a,b,c,d,e,f){return v(a,b,c,d,e,f)&&D(a,b,e,f,c,d)}var x,y,z,A=a("./vec2.js"),B=A.rotate,C=[0,0],D=A.$within,E=Math.sqrt,F=Math.atan2,G=Math.PI,H=Math.near,I=0,J={create:c,clone:e,copy:f,normalize:d,translate:g,length:h,sqrLength:i,midPoint:j,slope:k,angle:l,cross:m,closestPoint:t,isCollinear:n,isParallel:o,isVec2Inside:p,isAbove:q,leftNormal:r,rightNormal:s,lengthSq:i,contains:p,$inside:w,$collinear:v,$closestPoint:u};b.exports=J},{"./vec2.js":25}],23:[function(a,b){function c(a,b){return t(a,b&&b[0]||6)}function d(a){return t(2,8*(a-1))}function e(a){return 1-u(v(a))}function f(a){return 1-w(a*x/2)}function g(a,b){return b=b&&b[0]||1.618,t(a,2)*((b+1)*a-b)}function h(a){var b,c,d;for(c=0,d=1;!0;c+=d,d/=2)if(a>=(7-4*c)/11){b=d*d-t((11-6*c-11*a)/4,2);break}return b}function i(a,b){return t(2,10*--a)*w(20*a*x*(b&&b[0]||1)/3)}function j(a){return a}function k(a,b){z[a]=b,z[a+"In"]=b,z[a+"Out"]=function(a){return 1-b(1-a)},z[a+"InOut"]=function(a){return(.5>=a?b(2*a):2-b(2*(1-a)))/2}}function l(a,b,c){a[b]=c}function m(a,b){return parseFloat(a[b],10)}function n(a,b,c){return(b-a)*c+a}function o(a,b){var c,d,e,f,g,h,i=Object.keys(b).sort(function(a,b){return parseFloat(a)-parseFloat(b)}),j=[],k={};for(c=0;c<i.length;++c)j=s.add(j,Object.keys(b[i[c]]));for(j=s.unique(j),d=0;d<j.length;++d){for(e=j[d],k[e]={},c=0;c<i.length;++c)f=i[c],g=parseFloat(i[c]),0===c&&"0%"!==f&&(k[e][0]=a[e]),void 0!==b[f][e]&&(k[e][g]=h=b[f][e]);void 0===k[e][100]&&(k[e][100]=h)}return k}function p(a,b,c,d){if(a.$__tween=a.$__tween||{},"function"!=typeof a.on)throw new Error("obj must be an event-emitter");if("function"!=typeof a.removeListener)throw new Error("obj must be an event-emitter");if("number"!=typeof d.time)throw new Error("options.time is mandatory");var e,f,g={render:d.render||l,parser:d.parser||m,applyFactor:d.applyFactor||n,transition:d.transition||z.linear,link:d.link||A,tickEvent:d.tickEvent||"tick",endEvent:d.endEvent||"animation:end",startEvent:d.startEvent||"animation:start",chainEvent:d.chainEvent||"animation:chain",time:d.time,start:Date.now(),current:0},h=Object.keys(c),i=h.map(function(a){return.01*parseFloat(a)});if(f=function(d){if(!d)throw new Error("trace");g.current+=d;var e,f,j,k,l,m=g.current/g.time,n=!1,o=h.length;for(m>1?(m=1,e=1):e=g.transition(m),f=0;o>f&&!n;++f)j=i[f],e>=j&&(f===o-1?(n=!0,j=i[f-1],k=i[f]):(k=i[f+1],k>e&&(n=!0)),n===!0&&(1===e?(g.render(a,b,c[100]),a.removeListener(g.tickEvent,a.$__tween[b]),delete a.$__tween[b],a.emit(g.endEvent,g)):(l=(e-j)/(k-j),g.render(a,b,g.applyFactor(c[h[f]],c[h[f+1]],l)))))},a.$__tween[b])switch(g.link){case C:return C;case A:return e=function(){a.$__tween[b]||(a.$__tween[b]=f,a.on(g.tickEvent,a.$__tween[b]),a.removeListener(g.endEvent,e))},a.on(g.endEvent,e),a.emit(g.chainEvent,g),A;case B:return a.removeListener(g.tickEvent,a.$__tween[b]),delete a.$__tween[b],B;case D:a.removeListener(g.tickEvent,a.$__tween[b]),delete a.$__tween[b],a.$__tween[b]=f,a.on(g.tickEvent,a.$__tween[b])}else a.$__tween[b]=f,a.on(g.tickEvent,a.$__tween[b]);return!0}function q(a,b,c){if(!b.hasOwnProperty("100%"))throw new Error("100% params must exists");if("function"!=typeof a.on)throw new Error("obj must be an event-emitter");if("function"!=typeof a.removeListener)throw new Error("obj must be an event-emitter");if("number"!=typeof c.time)throw new Error("options.time is mandatory");c=c||{},c.render=c.render||l,c.parser=c.parser||m,c.transition=c.transition||z.linear,c.link=c.link||A,c.tick=c.tick||"tick",a.$__tween=a.$__tween||{};var d,e=o(a,b);for(d in e)z.animate(a,d,e[d],c)}var r,s=a("array-enhancements"),t=Math.pow,u=Math.sin,v=Math.acos,w=Math.cos,x=Math.PI,y={},z={},A=1,B=2,C=3,D=4;y={Pow:c,Expo:d,Circ:e,Sine:f,Back:g,Bounce:h,Elastic:i};for(r in y)k(r,y[r]);["Quad","Cubic","Quart","Quint"].forEach(function(a,b){k(a,function(a){return t(a,b+2)})}),z.LINK_CHAIN=A,z.LINK_STOP=B,z.LINK_IGNORE=C,z.LINK_CANCEL=D,z.tween=q,z.animate=p,z.linear=j,z.create=k,b.exports=z},{"array-enhancements":27}],24:[function(a,b){function c(a,b,c,d,e,f){var g=[[a,b],[c,d],[e,f],!1];return g}function d(a,b){return A(a,b[0],b[1])}function e(a,b){return A(a,b[1],b[2])}function f(a,b){return A(a,b[2],b[0])}function g(a,b){return d(a[0],b),e(a[1],b),f(a[2],b),a}function h(a){return B(a[0],a[1])+B(a[1],a[2])+B(a[2],a[0])}function i(){return[[0,0],[0,0],[0,0],!0]}function j(a){return[[a[0][0],a[0][1]],[a[1][0],a[1][1]],[a[2][0],a[2][1]],a[3]]}function k(a,b){return a[0][0]=b[0][0],a[0][1]=b[0][1],a[1][0]=b[1][0],a[1][1]=b[1][1],a[2][0]=b[2][0],a[2][1]=b[2][1],a[3]=b[3],a}function l(a,b){return a[0]=(b[0][0]+b[1][0]+b[2][0])*D,a[1]=(b[0][1]+b[1][1]+b[2][1])*D,a}function m(a,b){return G=z.distance(b[1],b[2]),H=z.distance(b[2],b[0]),I=z.distance(b[0],b[1]),a[0]=(G*b[0][0]+H*b[1][0]+I*b[2][0])*D,a[1]=(G*b[0][1]+H*b[1][1]+I*b[2][1])*D,a}function n(a,b){var c=b[1][0]-b[0][0],d=b[1][1]-b[0][1],e=c*c+d*d,f=b[2][0]-b[0][0],g=b[2][1]-b[0][1],h=f*f+g*g,i=2*(c*g-d*f),j=g*e-d*h,k=c*h-f*e;return a[0]=j/i+b[0][0],a[1]=k/i+b[0][1],a}function o(a){return E=z.min(F,a[1],a[0]),F=z.min(F,a[2],a[0]),.5*(F[1]*E[0]-F[0]*E[1])}function p(a,b,c){return a[0][0]=b[0][0]+c[0],a[0][1]=b[0][1]+c[1],a[1][0]=b[1][0]+c[0],a[1][1]=b[1][1]+c[1],a[2][0]=b[2][0]+c[0],a[2][1]=b[2][1]+c[1],a}function q(a,b){return z.sub(J,a[2],a[0]),z.sub(K,a[1],a[0]),z.sub(L,b,a[0]),r=C(J,J),s=C(J,K),t=C(J,L),u=C(K,K),v=C(K,L),w=1/(r*u-s*s),x=(u*t-s*v)*w,y=(r*v-s*t)*w,x>=0&&y>=0&&1>x+y}var r,s,t,u,v,w,x,y,z=a("./vec2.js"),A=z.midPoint,B=z.distance,C=(z.pow,z.dot),D=1/3,E=[0,0],F=[0,0],G=0,H=0,I=0,J=[0,0],K=[0,0],L=[0,0],M={create:c,zero:i,clone:j,copy:k,abMidPoint:d,bcMidPoint:e,caMidPoint:f,midTriangle:g,perimeter:h,centroid:l,incenter:m,circumcenter:n,area:o,translate:p,isVec2Inside:q,center:l};b.exports=M},{"./vec2.js":25}],25:[function(a,b){function c(a,b){return[a,b]}function d(a,b){return e(a,b*Cb)}function e(a,b){return[a*yb(b),a*vb(b)]}function f(){return[0,0]}function g(a){return[a[0],a[1]]}function h(a,b){return b[0]===a[0]&&b[1]===a[1]}function i(a,b){return qb=xb(b[0]-a[0]),rb=xb(b[1]-a[1]),tb>qb&&tb>rb}function j(a,b){return b[0]>a[0]&&b[1]>a[1]}function k(a,b){return b[0]<a[0]&&b[1]<a[1]}function l(a,b,c){return qb=bb(a,b),c*c>qb}function m(a){return!(1/0===a[0]||a[0]===-1/0||n(a[0])||1/0===a[1]||a[1]===-1/0||n(a[1]))}function n(a){return n(a[0])||n(a[1])}function o(a,b){return a[0]=b[0],a[1]=b[1],a}function p(a,b){return a[0]=-b[0],a[1]=-b[1],a}function q(a,b){return ob=b[0],pb=b[1],sb=wb(ob*ob+pb*pb),sb>tb&&(sb=1/sb,a[0]=b[0]*sb,a[1]=b[1]*sb),a}function r(a,b){return ob=b[0],pb=b[1],sb=ob*ob+pb*pb,sb>tb*tb&&(sb=1/sb,a[0]=b[0]*sb,a[1]=b[1]*sb),a}function s(a,b){return qb=b[0],a[0]=b[1],a[1]=-qb,a}function t(a,b){return qb=b[0],a[0]=-b[1],a[1]=qb,a}function u(a,b,c,d){return a[0]=b[0]+(c[0]-b[0])*d,a[1]=b[1]+(c[1]-b[1])*d,a}function v(a,b,c,d){return a[0]=c[0]-b[0],a[1]=c[1]-b[1],U(a,d),a[0]+=b[0],a[1]+=b[1],a}function w(a,b,c,d){var e,f=ub(Y(b,c));return f?(e=1/yb(f),O(a,b,yb((1-d)*f)*e),O(nb,yb(d*f)*e),I(a,a,nb)):o(a,b)}function x(a,b,c,d){var e=ub(Y(b,c));return w(a,b,c,zb(d,e)/e)}function y(a,b){return a[0]=vb(b),a[1]=yb(b),a}function z(a,b,c){return K(a,b,c),O(a,Y(b,c)/Y(c,c)),a}function A(a,b,c){o(a,b);var d=yb(c),e=vb(c);return ob=b[0],pb=b[1],a[0]=ob*e-pb*d,a[1]=pb*e+ob*d,a}function B(a,b,c,d){G(a,b,d);var e=yb(c),f=vb(c);return ob=b[0],pb=b[1],a[0]=ob*f-pb*e,a[1]=pb*f+ob*e,I(a,a,d),a}function C(a,b,c){return a[0]=b[0]*c[0]-b[1]*c[1],a[1]=b[0]*c[1]+b[1]*c[0],a}function D(a,b,c){return a[0]=b[0]*c[0]+b[1]*c[1],a[1]=b[1]*c[0]-b[0]*c[1],a}function E(a,b,c){return a[0]=.5*(b[0]+c[0]),a[1]=.5*(b[1]+c[1]),a}function F(a,b,c){return qb=Y(b,c),O(a,c,2*qb),G(a,b,a),a}function G(a,b,c){return a[0]=b[0]-c[0],a[1]=b[1]-c[1],a}function H(a,b,c,d){return a[0]=b[0]-c,a[1]=b[1]-d,a}function I(a,b,c){return a[0]=b[0]+c[0],a[1]=b[1]+c[1],a}function J(a,b,c,d){return a[0]=b[0]+c,a[1]=b[1]+d,a}function K(a,b,c){return a[0]=b[0]*c[0],a[1]=b[1]*c[1],a}function L(a,b,c,d){return a[0]=b[0]*c,a[1]=b[1]*d,a}function M(a,b,c){return a[0]=b[0]/c[0],a[1]=b[1]/c[1],a}function N(a,b,c,d){return a[0]=b[0]/c,a[1]=b[1]/d,a}function O(a,b,c){return a[0]=b[0]*c,a[1]=b[1]*c,a}function P(a,b,c){return 2===c?(a[0]=b[0]*b[0],a[1]=b[1]*b[1]):(a[0]=Bb(b[0],c),a[1]=Bb(b[1],c)),a}function Q(a,b,c){return a[0]=b[0]>c[0]?b[0]:c[0],a[1]=b[1]>c[1]?b[1]:c[1],a}function R(a,b,c){return a[0]=b[0]<c[0]?b[0]:c[0],a[1]=b[1]<c[1]?b[1]:c[1],a}function S(a,b){return a[0]=xb(b[0]),a[1]=xb(b[1]),a}function T(a,b,c,d){return a[0]=b[0]+c[0]*d,a[1]=b[1]+c[1]*d,a}function U(a,b,c){return a[0]=b[0],a[1]=b[1],Y(b,b)>c*c&&(q(a),K(a,c)),a}function V(a,b,c){var d=b[0]*b[0]+b[1]*b[1];return d>c*c&&O(a,b,c/wb(d)),a}function W(a,b){return ob=a[0]-b[0],pb=a[1]-b[1],ob/pb}function X(a,b){var c=a[0],d=a[1],e=b[0],f=b[1];if(e===c&&f===d)return 0;if(e===c)return f>d?1:5;if(f===d)return e>c?3:7;if(e>c){if(f>d)return 2;if(d>f)return 4}if(c>e){if(d>f)return 6;if(f>d)return 8}return-1}function Y(a,b){return a[0]*b[0]+a[1]*b[1]}function Z(a,b){return a[0]*b[1]-a[1]*b[0]}function $(a){return Ab(a[1],a[0])}function _(a,b){return Ab(b[1]-a[1],b[0]-a[0])}function ab(a,b){return qb=b[0]-a[0],rb=b[1]-a[1],wb(qb*qb+rb*rb)}function bb(a,b){return nb[0]=a[0]-b[0],nb[1]=a[1]-b[1],nb[0]*nb[0]+nb[1]*nb[1]}function cb(a){return wb(a[0]*a[0]+a[1]*a[1])}function db(a){return a[0]*a[0]+a[1]*a[1]}function eb(a,b,c){return(a[0]<=b[0]&&b[0]<=c[0]||c[0]<=b[0]&&b[0]<=a[0])&&(a[1]<=b[1]&&b[1]<=c[1]||c[1]<=b[1]&&b[1]<=a[1])}function fb(a,b,c,d,e,f){return(c>=a&&e>=c||c>=e&&a>=c)&&(d>=b&&f>=d||d>=f&&b>=d)}function gb(a,b,c,d,e){return(a>c?e>a-c:e>c-a)&&(b>d?e>b-d:e>d-b)}function hb(a,b,c,d){return a*d-b*c}function ib(a,b,c,d){return a*c+b*d}function jb(a,b){ob=b[0],b[0]=a[0],a[0]=ob,ob=b[1],b[1]=a[1],a[1]=ob}function kb(a,b,c,d){return O(Db,c,Y(b,d)),O(Eb,b,Y(c,d)),G(a,Db,Eb)}function lb(a){return"("+a[0].toFixed(2)+","+a[1].toFixed(2)+")"}var mb,nb=[0,0],ob=0,pb=0,qb=0,rb=0,sb=0,tb=Math.EPS,ub=Math.acos,vb=Math.cos,wb=Math.sqrt,xb=Math.abs,yb=Math.sin,zb=Math.min,Ab=Math.atan2,Bb=Math.pow,Cb=(Math.HALF_NPI,Math.HALF_PI,Math.DEG_TO_RAD),Db=[0,0],Eb=[0,0];mb={ZERO:[0,0],create:c,dFromPolar:d,fromPolar:e,zero:f,clone:g,equals:h,equalsEpsilon:i,gt:j,lt:k,near:l,isValid:m,isNaN:n,copy:o,negate:p,perpendicular:s,perp:s,rotateCW:s,normalize:q,normalizeSq:r,rperpendicular:t,rperp:t,rotateCCW:t,lerp:u,interpolate:u,lerpconst:v,slerp:w,slerpconst:x,forAngle:y,project:z,rotate:A,rotateFrom:B,rotateVec:C,unrotateVec:D,midPoint:E,reflect:F,subtract:G,subtract2:H,add:I,add2:J,multiply:K,multiply2:L,divide:M,divide2:N,scale:O,pow:P,max:Q,min:R,abs:S,scaleAndAdd:T,clamp:U,truncate:V,magnitude:W,compare:X,dot:Y,cross:Z,toAngle:$,angle:$,angleTo:_,distance:ab,length:cb,sqrDistance:bb,sqrLength:db,within:eb,swap:jb,tripleProduct:kb,eq:h,sub:G,sub2:H,mul:K,mul2:L,div:M,div2:N,distanceSq:bb,lengthSq:db,$within:fb,$near:gb,$cross:hb,$dot:ib,toString:lb},b.exports=mb},{}],26:[function(a,b){function c(a){a=a.toString();var b,c,d,e=4022871197;for(b=0,c=a.length;c>b;b++)e+=a.charCodeAt(b),d=.02519603282416938*e,e=d>>>0,d-=e,d*=e,e=d>>>0,d-=e,e+=4294967296*d;return 2.3283064365386963e-10*(e>>>0)}function d(a){var b,d,e,f,g=this,a=arguments.length?Array.prototype.slice.call(arguments):[(new Date).getTime()],h=123456789,i=362436069,j=521288629,k=88675123,l=886756453;for(b=0,d=a.length;d>b;b++)e=a[b],h^=4294967296*c(e),i^=4294967296*c(e),j^=4294967296*c(e),l^=4294967296*c(e),k^=4294967296*c(e);return{uint32:function(){return f=(h^h>>>7)>>>0,h=i,i=j,j=k,k=l,l=l^l<<6^(f^f<<13)>>>0,(i+i+1)*l>>>0},random:function(){return 2.3283064365386963e-10*g.uint32()},fract53:function(){return g.random()+1.1102230246251565e-16*(2097151&g.uint32())}}}Xorshift={create:d},b.exports=Xorshift},{}],27:[function(a,b){!function(){"use strict";b.exports=a("./lib/arrays.js")}()},{"./lib/arrays.js":28}],28:[function(a,b){!function(){"use strict";var a,c,d=Array.prototype.slice,e=Object.hasOwnProperty;b.exports.ize=function(a){return null===a||void 0===a?[]:a instanceof Array?a:e.call(a,"callee")?d.call(a):[a]},b.exports.from=Array.ize,b.exports.add=function(){var a,b,c,d=[];for(a=0;a<arguments.length;++a)for(c=arguments[a],b=0;b<c.length;++b)d.push(c[b]);return d},b.exports.clone=a=function(b,c){for(var d=b.length,e=new Array(d);d--;)e[d]=c&&b[d]instanceof Array?a(b[d],!0):b[d];return e},b.exports.insertAt=function(a,b,c){return c>-1&&c<=a.length?(a.splice(c,0,b),!0):!1},b.exports.random=function(a){var b=Math.floor(Math.random()*a.length);return a[b]},b.exports.unique=function(a){var b,c=[];for(b=0;b<a.length;++b)-1===c.indexOf(a[b])&&c.push(a[b]);return c},b.exports.sortObject=function(a,b){return a.sort(function(a,c){return"string"==typeof a[b]?a.value.toLowerCase().localeCompare(c.value.toLowerCase()):a[b]-c[b]}),a},b.exports.shuffle=function(a){for(var b,c,d=a.length;0!==d;)c=Math.floor(Math.random()*d),d-=1,b=a[d],a[d]=a[c],a[c]=b;return a},b.exports.rfilter=c=function(a,b){if(null===a)throw new TypeError;var c,d,e,f,g,h=Object(a),i=h.length>>>0;if("function"!=typeof b)throw new TypeError;for(c=[],d=arguments[1],e=0;i>e;e++)e in h&&(f=h[e],g=b.call(d,f,e,h),void 0!==g&&c.push(g));return c},b.exports.chunk=function(a,b,c){c=c||!1;var d,e,f=0,g=0,h=[[]];for(d=0;d<a.length;++d)e=a[d],h[f].length<b?c?(h[f][d]=e,g++):h[f].push(e):(f++,h.push([]),c?(h[f][d]=e,g++):(g=0,h[f][g]=e));return h},b.exports.column=function(a,b){return Array.rfilter(a,function(a){return a?a[b]:void 0})},b.exports.combine=function(a){var b,c,d;for(c=1;c<arguments.length;++c)for(d=arguments[c],b=0;b<d.length;++b)a.push(d[b])},b.exports.countValues=function(a,b){b=b||!1;var c,d,e={};for(c=0;c<a.length;++c)d=a[c],b&&"string"==typeof d&&(d=d.toLowerCase()),e[d]?++e[d]:e[d]=1;return e},b.exports.pad=function(a,b,c){if(Math.abs(b)<=a.length)return a;var d,e,f=[];if(b>0)for(d=0;b>d;++d)f[d]=d<a.length?a[d]:c;else for(b=Math.abs(b),e=b-a.length,d=0;b>d;++d)f[d]=e>d?c:a[d-e];return f},b.exports.product=function(a){var b,c=1,d=a.length;for(b=0;d>b;b++)c*=parseFloat(a[b]);return c},b.exports.rand=function(a,b){var c,d=[];for(b=b||1,c=0;b>c;++c)d.push(Math.floor(Math.random()*a.length));return d},b.exports.dense=function(a){var b=[];return a.forEach(function(a){b.push(a)}),b},b.exports.sum=function(a){var b,c=0,d=a.length;for(b=0;d>b;b++)c+=parseFloat(a[b]);return c},b.exports.fill=function(a,b,c){var d,e=[],f=a+b;for(d=a;f>d;++d)e[d]=c;return e},b.exports.column=function(a,b){return c(a,function(a){return a[b]})},b.exports.kmap=function(a,b){var c={};return a.forEach(function(a){if(!a[b])throw console.log(a),new Error("field not found in v");c[a[b]]=a}),c},b.exports.oFilter=function(a,b){if(!a)return[];var c,d,e,f=[],g=a.length;for(c=0;g>c;++c)if(a[c]){d=!0;for(e in b)a[c][e]!==b[e]&&(d=!1);d&&f.push(a[c])}return f},b.exports.search=function(a,b,c){if(!a||!a.length)return-1;var d,e=a.length;for(d=0;e>d;++d)if(a[d]&&a[d][b]==c)return d;return-1},b.exports.mapAsync=function(a,b,c,d){if(!a||!a.length)return c();var e,f=a.length,g=0,h=[],i=function(a,b){0===h.length&&b&&(h={}),b=b||g,h[b]=a,++g===f&&c(h)};for(e=0;f>e;++e)d?b.call(d,a[e],e,i):b(a[e],e,i)},b.exports.mapSerial=function(a,b,c,d){if(!a||!a.length)return c();var e=0,f=a.length,g=[],h=function(j,k){1===e&&k&&(g={}),0!==e&&(k=k||e,g[k]=j);var l=e,m=a[e];return++e>f?c(g):void(d?b.call(d,m,l,h,i):b(m,l,h,i))},i=function(a,b){b=b||e,g[b]=a,c(g)};h()}}()},{}],29:[function(a,b){!function(){"use strict";b.exports=a("./lib/objects.js")}()},{"./lib/objects.js":30}],30:[function(a,b){!function(){"use strict";function a(a,b){var c=null;for(c in a)b(a[c],c);return a}var c,d,e,f,g=Object.prototype.hasOwnProperty,h=!{toString:null}.propertyIsEnumerable("toString"),i=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],j=i.length,k=Array.prototype.push,l=Object.prototype.constructor,m=!0;b.exports["typeof"]=c=function(a){if(null===a||void 0===a)return"null";if(a===!0||a===!1)return"boolean";var b=typeof a;if("object"===b){if(b.constructor===l)return b;if(a.push===k&&null!=a.length)return"array";if(a.hasOwnProperty&&a.hasOwnProperty("callee"))return"arguments";if(a instanceof Date)return"date";if(a instanceof RegExp)return"regexp"}else if("number"===b&&isNaN(a))return"null";return b},Object.keys||(Object.keys=function(a){if("object"!=typeof a&&("function"!=typeof a||null===a))throw new TypeError("Object.keys called on non-object");var b,c,d=[];for(b in a)g.call(a,b)&&d.push(b);if(h)for(c=0;j>c;c++)g.call(a,i[c])&&d.push(i[c]);return d}),Object.defineProperty||(Object.defineProperty=function(a,b,c){if(c.get||c.set)throw new Error("this is not supported in your js.engine");a[b]=c.value}),Object.seal||(Object.seal=function(a){return a}),b.exports.values=function(a){if(m&&"object"!=typeof a&&("function"!=typeof a||null===a))throw new TypeError("Object.values called on non-object");var b,c=[];for(b in a)(!m||g.call(a,b))&&c.push(a[b]);return c},b.exports.each=a,b.exports.forEach=a,b.exports.clone=function(a){return d({},a,!0,!1)},b.exports.merge=d=function(a,b,e,f){e=e||!1,f=f||!1;var g,h,i=c(b);switch(i){case"string":return e?""+b:b;case"number":return e?0+b:b;case"array":if(e){for(h=[],g=0;g<b.length;++g)h[g]=d(a[g]||{},b[g],e,f);return h}return b;case"boolean":return e?b?!0:!1:b;case"null":return null;case"function":return b;case"object":h="object"!==c(a)?{}:a||{},g=null;for(g in b)if("prototype"!==g){if(void 0===h[g]){if(f)continue;h[g]={}}h[g]=d(h[g]||{},b[g],e,f)}return h;case"regexp":return new RegExp(b.source);case"date":return e?new Date(b):b}return b},b.exports.combine=function(a,b){b=b||[];var c,d={};for(c=0;c<a.length;++c)d[a[c]]=void 0===b[c]?null:b[c];return d},b.exports.ksort=function(a){var b,c=Object.keys(a),d={};for(b=0;b<c.length;++b)d[c[b]]=a[c[b]];return d},b.exports.extend=function(){var a,b,c,d,e=arguments[0]||{};for(c=1,d=arguments.length;d>c;c++)if(a=arguments[c],"object"==typeof a&&null!==a)for(b in a)e[b]=a[b];return e},b.exports.extract=function(a,b,c){var d,e={};for(c=void 0===c?null:c,d=0;d<b.length;++d)e[b[d]]=void 0===a[b[d]]?c:a[b[d]];return e},b.exports.empty=function(a){var b;for(b in a)return!1;return!0},b.exports.depth=e=function(a){var b,c,d=!1,f=0;if(null===a||void 0===a)return 0;if(Array.isArray(a)){for(b=0,c=a.length;c>b;++b)f=Math.max(f,e(a[b]));d=c>0}else if("object"==typeof a)for(b in a)d=!0,f=Math.max(f,e(a[b]));return(d?1:0)+f},b.exports.rFilter=f=function(a,b,c){var d,e;if(c=c===!0,Array.isArray(a)){if(c)for(d=0,e=a.length;e>d;++d)a[d]=f(a[d],b,c);else a=b(a);return a}if("object"==typeof a&&!(a instanceof Date||a instanceof RegExp)){for(d in a)a[d]=f(a[d],b,c);return a}return b(a)},b.exports.prefixKeys=function(a,b,c){c=c||[];var d,e={};if(c.length)for(d in a)-1===c.indexOf(d)?e[b+d]=a[d]:e[d]=a[d];else for(d in a)e[b+d]=a[d];return e},b.exports.remPrefixKeys=function(a,b,c){c=c||[];var d,e=b.length,f={};if(c.length)for(d in a)-1===c.indexOf(d)&&0===d.indexOf(b)?f[d.substring(e)]=a[d]:f[d]=a[d];else for(d in a)0===d.indexOf(b)?f[d.substring(e)]=a[d]:f[d]=a[d];return f},b.exports.diff=function(a){var b,c,d,e={},f=arguments.length;for(b in a){for(d=!1,c=1;f>c&&!d;++c)a[b]===arguments[c][b]&&(d=!0);d||(e[b]=a[b])}return e}}()},{}]},{},[1]);